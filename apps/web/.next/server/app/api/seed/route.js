(()=>{var e={};e.id=617,e.ids=[617],e.modules={6330:e=>{"use strict";e.exports=require("@prisma/client")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},2984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>u});var i=r(1271),s=r(1232),o=r(8079),n=r(1238),c=r(9201),d=r(8483);async function u(){try{console.log("\uD83E\uDDF9 Nettoyage de la base de donn\xe9es..."),await c.z.stockMovement.deleteMany({}),await c.z.transaction.deleteMany({}),await c.z.auditLog.deleteMany({}),await c.z.batch.deleteMany({}),await c.z.product.deleteMany({}),await c.z.user.deleteMany({}),console.log("\uD83D\uDC64 Cr\xe9ation de l'Administrateur...");let e=await d.Ay.hash("admin123",10),t=await c.z.user.create({data:{name:"Administrateur",email:"admin@ubuntu.com",password:e,role:"ADMIN"}});console.log(`âœ… Admin cr\xe9\xe9: ${t.email} (ID: ${t.id})`);let r=[{name:"Doliprane 1000mg Cpr",dci:"Parac\xe9tamol",category:"Antalgique",sellingPrice:300,costPrice:185,minThreshold:20,batches:[{num:"BATCH-A-001",qty:100,exp:"2026-12-31"},{num:"BATCH-A-002",qty:50,exp:"2025-06-30"}]},{name:"Spasfon Lyoc",dci:"Phloroglucinol",category:"Antispasmodique",sellingPrice:2850,costPrice:1950,minThreshold:10,batches:[{num:"SPAS-2024-X",qty:30,exp:"2027-01-01"}]},{name:"Amoxicilline 500mg",dci:"Amoxicilline",category:"Antibiotique",sellingPrice:1500,costPrice:900,minThreshold:50,batches:[{num:"AMOX-B-99",qty:200,exp:"2026-05-20"}]},{name:"Vitamine C UPSA",dci:"Acide Ascorbique",category:"Vitamine",sellingPrice:1200,costPrice:750,minThreshold:15,batches:[{num:"VIT-C-22",qty:60,exp:"2025-11-15"}]},{name:"S\xe9rum Physiologique",dci:"Chlorure de Sodium",category:"Soins",sellingPrice:1500,costPrice:800,minThreshold:30,batches:[{num:"SER-PHY-01",qty:500,exp:"2028-01-01"}]}];for(let e of r){let r=await c.z.product.create({data:{name:e.name,dci:e.dci,category:e.category,minThreshold:e.minThreshold,sellingPrice:e.sellingPrice}});for(let a of e.batches){let i=await c.z.batch.create({data:{productId:r.id,batchNumber:a.num,quantity:a.qty,costPrice:e.costPrice,expiryDate:new Date(a.exp)}});await c.z.stockMovement.create({data:{type:"IN",quantity:a.qty,reason:"Initial Seed",userId:t.id,productId:r.id,batchId:i.id}})}}return n.NextResponse.json({success:!0,message:`${r.length} produits ins\xe9r\xe9s. Admin cr\xe9\xe9 (admin@ubuntu.com / admin123).`})}catch(e){return console.error("Erreur Seed:",e),n.NextResponse.json({error:e.message},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/seed/route",pathname:"/api/seed",filename:"route",bundlePath:"app/api/seed/route"},resolvedPagePath:"C:\\Users\\tinkpad\\Desktop\\Mes Nouveaux Projets\\Sahel Ubuntu Pharm\\apps\\web\\app\\api\\seed\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:p,workUnitAsyncStorage:m,serverHooks:h}=l;function g(){return(0,o.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:m})}},7032:()=>{},408:()=>{},9201:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var a=r(6330);let i=globalThis.prisma??new a.PrismaClient({log:["error"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[207,48,483],()=>r(2984));module.exports=a})();