(()=>{var e={};e.id=492,e.ids=[492],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},2766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(735),n=r(1232),o=r(2914),i=r.n(o),a=r(85),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,8270,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6397)),"C:\\Users\\tinkpad\\Desktop\\Mes Nouveaux Projets\\Sahel Ubuntu Pharm\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,5335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,4908,23)),"next/dist/client/components/unauthorized-error"]}],c=[],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2439:(e,t,r)=>{Promise.resolve().then(r.bind(r,4303)),Promise.resolve().then(r.bind(r,737))},6351:(e,t,r)=>{Promise.resolve().then(r.bind(r,2e3)),Promise.resolve().then(r.bind(r,5993))},5431:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9028,23)),Promise.resolve().then(r.t.bind(r,2018,23)),Promise.resolve().then(r.t.bind(r,2914,23)),Promise.resolve().then(r.t.bind(r,5917,23)),Promise.resolve().then(r.t.bind(r,7673,23)),Promise.resolve().then(r.t.bind(r,4643,23)),Promise.resolve().then(r.t.bind(r,8424,23))},8575:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3868,23)),Promise.resolve().then(r.t.bind(r,5794,23)),Promise.resolve().then(r.t.bind(r,8466,23)),Promise.resolve().then(r.t.bind(r,3909,23)),Promise.resolve().then(r.t.bind(r,5969,23)),Promise.resolve().then(r.t.bind(r,7763,23)),Promise.resolve().then(r.t.bind(r,560,23))},2e3:(e,t,r)=>{"use strict";r.d(t,{ClientLayout:()=>g});var s=r(2725),n=r(401),o=r(6888),i=r.n(o),a=r(207),l=r(240),d=r(3996),c=r(3846),u=r(2180),m=r(3563),h=r(268),p=r(9463),x=r(3879),f=r(39);function v({className:e,...t}){let r=(0,a.usePathname)(),{user:o,logout:v}=(0,n.A)(),b=[{title:"Tableau de Bord",href:"/",icon:d.A,roles:["ADMIN","PHARMACIST","STOCK_MANAGER"]},{title:"Point de Vente",href:"/pos",icon:c.A,roles:["ADMIN","PHARMACIST"]},{title:"Stocks & Lots",href:"/inventory",icon:u.A,roles:["ADMIN","PHARMACIST","STOCK_MANAGER"]},{title:"Transactions",href:"/transactions",icon:m.A,roles:["ADMIN"]},{title:"Utilisateurs",href:"/users",icon:h.A,roles:["ADMIN"]},{title:"Param\xe8tres",href:"/settings",icon:p.A,roles:["ADMIN"]}],g=o?.role||"PHARMACIST",P=b.filter(e=>e.roles.includes(g));return(0,s.jsxs)("nav",{className:(0,l.cn)("flex flex-col h-full space-y-1",e),...t,children:[(0,s.jsx)("div",{className:"flex-1 space-y-1",children:P.map(e=>(0,s.jsxs)(i(),{href:e.href,className:(0,l.cn)("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors",r===e.href?"bg-accent text-accent-foreground font-semibold border-l-4 border-primary pl-2 shadow-sm":"text-muted-foreground bg-transparent","justify-start"),children:[(0,s.jsx)(e.icon,{className:(0,l.cn)("h-4 w-4",r===e.href?"text-primary":"")}),e.title]},e.href))}),(0,s.jsx)("div",{className:"pt-4 mt-auto",children:(0,s.jsxs)(f.$,{variant:"ghost",className:"w-full justify-start text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>v(),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"D\xe9connexion"]})})]})}var b=r(4656);function g({children:e}){let{user:t,loading:r}=(0,n.A)();return"/login"===(0,a.usePathname)()?(0,s.jsx)("main",{className:"flex-1 min-h-screen bg-background",children:e}):(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,s.jsxs)("aside",{className:"hidden w-64 flex-col border-r bg-card md:flex",children:[(0,s.jsx)("div",{className:"flex h-14 items-center border-b px-4",children:(0,s.jsx)("span",{className:"text-xl font-bold text-primary",children:"\uD83C\uDFE5 Sahel CPMS"})}),(0,s.jsx)(b.F,{className:"flex-1 py-4",children:(0,s.jsxs)("div",{className:"px-3 py-2",children:[(0,s.jsx)("h2",{className:"mb-2 px-4 text-xs font-semibold tracking-tight text-muted-foreground uppercase",children:"Navigation"}),(0,s.jsx)(v,{})]})}),(0,s.jsx)("div",{className:"mt-auto border-t p-4",children:r?(0,s.jsx)("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Chargement profil..."}):t?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold uppercase ring-2 ring-primary/10",children:t.name.charAt(0)}),(0,s.jsxs)("div",{className:"text-sm overflow-hidden",children:[(0,s.jsx)("p",{className:"font-medium truncate max-w-[140px]",title:t.name,children:t.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-semibold",children:t.role})]})]}):(0,s.jsx)("div",{className:"text-xs text-red-500",children:"Non connect\xe9"})})]}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto bg-slate-50/50",children:e})]})}},5993:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>o});var s=r(2725),n=r(401);function o({children:e}){return(0,s.jsx)(n.O,{children:e})}},39:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(2725),n=r(1616),o=r(9300),i=r(7918),a=r(240);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},d)=>{let c=n?o.DX:"button";return(0,s.jsx)(c,{className:(0,a.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},4656:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var s=r(2725),n=r(1616),o=r(9809),i=r(240);let a=n.forwardRef(({className:e,children:t,...r},n)=>(0,s.jsxs)(o.bL,{ref:n,className:(0,i.cn)("relative overflow-hidden",e),...r,children:[(0,s.jsx)(o.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,s.jsx)(l,{}),(0,s.jsx)(o.OK,{})]}));a.displayName=o.bL.displayName;let l=n.forwardRef(({className:e,orientation:t="vertical",...r},n)=>(0,s.jsx)(o.VM,{ref:n,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 border-t border-t-transparent p-[1px]",e),...r,children:(0,s.jsx)(o.lr,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=o.VM.displayName},401:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,O:()=>a});var s=r(2725),n=r(1616),o=r(207);let i=(0,n.createContext)({user:null,loading:!0,login:()=>{},logout:()=>{},hasRole:()=>!1});function a({children:e}){let[t,r]=(0,n.useState)(null),[a,l]=(0,n.useState)(!0),d=(0,o.useRouter)();return(0,s.jsx)(i.Provider,{value:{user:t,loading:a,login:(e="ADMIN")=>{localStorage.setItem("demo-role",e),document.cookie="auth-token=DEMO_TOKEN; path=/; max-age=86400",r({id:"1",name:"Jean Drabo (D\xe9mo)",email:"jean@sahel.com",role:e}),d.push("/")},logout:()=>{localStorage.removeItem("demo-role"),document.cookie="auth-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",r(null),d.push("/login")},hasRole:e=>!!t&&e.includes(t.role)},children:e})}let l=()=>(0,n.useContext)(i)},240:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(3626),n=r(3558);function o(...e){return(0,n.QP)((0,s.$)(e))}},4303:(e,t,r)=>{"use strict";r.d(t,{ClientLayout:()=>s});let s=(0,r(2771).registerClientReference)(function(){throw Error("Attempted to call ClientLayout() from the server but ClientLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\tinkpad\\Desktop\\Mes Nouveaux Projets\\Sahel Ubuntu Pharm\\apps\\web\\app\\client-layout.tsx","ClientLayout")},6397:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(1069),n=r(7666),o=r.n(n),i=r(737),a=r(4303);r(1971);let l={title:{default:"Sahel Store - Gestion Pharmaceutique",template:"%s | Sahel Store"},description:"Syst\xe8me intelligent de gestion de stock et point de vente pour pharmacies cliniques en Afrique de l'Ouest.",keywords:["pharmacie","gestion de stock","Sahel","CPMS","POS","sant\xe9"]};function d({children:e}){return(0,s.jsx)("html",{lang:"fr",className:"h-full",children:(0,s.jsx)("body",{className:`${o().className} h-full bg-background font-sans antialiased`,children:(0,s.jsx)(i.Providers,{children:(0,s.jsx)(a.ClientLayout,{children:e})})})})}},737:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>s});let s=(0,r(2771).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\tinkpad\\Desktop\\Mes Nouveaux Projets\\Sahel Ubuntu Pharm\\apps\\web\\app\\providers.tsx","Providers")},1971:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[207,732],()=>r(2766));module.exports=s})();